---
- hosts: all
  become: yes
  tasks:
    - name: Install package GIT
      package:
        name: git
        state: latest
    - name: Install package GOLANG
          package:
            name: golang
            state: latest
    - name: Install package make
          package:
            name: make
            state: latest
    - name: Example clone of a single branch
          ansible.builtin.git:
            repo: https://github.com/BastienBalaud/golang-myip.git
            dest: /root/
    - name: Build 'all' target with a custom Makefile
      community.general.make:
        chdir: /root/golang-myip
        target: all
        file: /Makefile
